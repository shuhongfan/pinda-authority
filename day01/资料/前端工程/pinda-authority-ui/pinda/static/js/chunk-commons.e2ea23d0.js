(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"061b":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[i("div",{staticClass:"app-container",staticStyle:{width:"100%",height:"100%"}},[i("el-row",{staticStyle:{margin:"5px 0"}},[i("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:e.$t("common.pleaseInputUrl")},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e._v("\n       \n      "),i("el-button",{attrs:{type:"success",plain:""},on:{click:e.refresh}},[e._v(e._s(e.$t("table.refresh")))]),e._v(" "),i("el-button",{attrs:{type:"info",plain:""},on:{click:e.openInNewPage}},[e._v(e._s(e.$t("table.openInNewPage")))])],1),e._v(" "),i("iframe",{staticStyle:{width:"100%",height:"91%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})],1)])},n=[],r={props:{src:{type:String,required:!0}},data:function(){return{height:document.documentElement.clientHeight-87.7+"px",loading:!0,url:this.src}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),500),window.onresize=function(){e.height=document.documentElement.clientHeight-87.7+"px"}},methods:{refresh:function(){this.$emit("refresh",this.url)},openInNewPage:function(){window.open(this.url,"_blank")}}},l=r,s=(i("ff99"),i("2877")),o=Object(s["a"])(l,a,n,!1,null,"2a7ebac5",null);t["a"]=o.exports},3069:function(e,t,i){},"333d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[i("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[],r=(i("c5f6"),i("09f4")),l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(r["a"])(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(r["a"])(0,800)}}},s=l,o=(i("339b"),i("2877")),u=Object(o["a"])(s,a,n,!1,null,"23edaaf6",null);t["a"]=u.exports},"339b":function(e,t,i){"use strict";var a=i("3069"),n=i.n(a);n.a},8555:function(e,t,i){},"8f4f":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",{ref:e.uploadRef,staticClass:"avatar-uploader",class:{limit:e.showUploadBtn},attrs:{accept:e.accept,action:e.action,"auto-upload":e.autoUpload,"before-upload":e.beforeUpload,data:e.fileOtherData,"file-list":e.imgFileList,headers:e.headers,limit:e.limit,multiple:e.multiple,"on-change":e.handleChange,"on-error":e.handleError,"on-exceed":e.handleExceed,"on-remove":e.handleRemove,"show-file-list":e.showFileList,"list-type":"picture-card"}},[e.imageUrl?i("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):i("i",{staticClass:"el-icon-plus"})]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{src:e.dialogImageUrl,alt:"",width:"100%"}})])],1)},n=[],r=(i("96cf"),i("3b8d")),l=(i("ac6a"),i("7f7f"),i("c5f6"),i("5657")),s=i("c2cf"),o={props:{uploadRef:{type:String,default:"file1"},multiple:{type:Boolean,default:!1},autoUpload:{type:Boolean,default:!1},showFileList:{type:Boolean,default:!0},limit:{type:Number,default:null},accept:{type:String,default:"image/jpeg, image/gif, image/png, image/bmp"},acceptSize:{type:Number,default:null},fileOtherData:{type:Object,default:function(){return{bizId:"",bizType:"",isSingle:!1}}}},data:function(){return{imageUrl:"",dialogImageUrl:"",dialogVisible:!1,disabled:!0,imgFileList:[],removeFileAry:[],addFileAry:[],isUploadError:!1,fileLength:0,action:"".concat("/api","/file/attachment/upload")}},computed:{showUploadBtn:function(){return this.showFileList&&this.addFileAry.length+this.imgFileList.length===this.limit},headers:function(){return{token:l["a"].get("TOKEN",""),tenant:l["a"].get("TENANT","")}}},methods:{init:function(e){var t=e.bizId,i=e.bizType,a=e.imageUrl,n=e.isSingle,r=e.isDetail,l=this;l.fileOtherData.bizId=t,l.fileOtherData.bizType=i,l.fileOtherData.isSingle=n||!1,l.imgFileList.length=0,l.removeFileAry=[],l.addFileAry=[],l.imageUrl=a,l.isUploadError=!1,r&&l.getAttachment()},beforeUpload:function(){var e=this;e.$store.state.hasLoading=!0},handleChange:function(e,t){var i=this;if(e.response)if(e.response.isSuccess){var a=e.response.data;i.fileOtherData.bizId=a.bizId,i.imageUrl=a.url,i.$emit("setId",a.bizId,a.url)}else i.$message.error(e.response.msg),i.isUploadError=!1;else if(i.acceptSize){var n=e.size>i.acceptSize;n?(setTimeout((function(){i.$message.error("只能上传"+i.renderSize(i.acceptSize)+"的文件!已为您过滤文件："+e.name)}),10),t.forEach((function(i,a){i.uid===e.uid&&t.splice(a,1)}))):(i.isUploadError||i.addFileAry.push(e.name),i.isUploadError=!1)}i.$store.state.hasLoading=!1},renderSize:function(e){if(null==e||""==e)return"0 B";var t=new Array("B","KB","MB","GB","TB","PB","EB","ZB","YB"),i=0,a=parseFloat(e);i=Math.floor(Math.log(a)/Math.log(1024));var n=a/Math.pow(1024,i);return n=n.toFixed(2),t[i]?n+t[i]:"文件太大"},handleError:function(){var e=this;e.$message.error("附件上传失败，请重试"),e.isUploadError=!0,e.$store.state.hasLoading=!1,e.showFileList||(e.imageUrl="")},getAttachment:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,s["a"].getAttachment({bizIds:t.fileOtherData.bizId,bizTypes:t.fileOtherData.bizType});case 3:i=e.sent,200===i.status&&0===i.data.code&&i.data.data.length>0&&(a=i.data.data[0].list,a.map((function(e){e.name=e.submittedFileName,t.showFileList||(t.imageUrl=e.url)})),t.imgFileList=a,t.$emit("fileLengthVaild",t.imgFileList.length));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleRemove:function(e){var t=this;e.bizId?(t.removeFileAry.push(e.id),t.imgFileList.map((function(i,a){if(i.bizId===e.bizId)return t.imgFileList.splice(a,1),!1}))):t.addFileAry.map((function(i,a){if(i===e.name)return t.addFileAry.splice(a,1),!1}))},handleExceed:function(){var e=this;e.$message("当前最多允许上传"+e.limit+"张图片")},handleBack:function(){var e=this;return{addLength:e.addFileAry.length,removeLength:e.removeFileAry.length}},deleteAttachment:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,s["a"].deleteAttachment({ids:t.removeFileAry});case 3:i=e.sent,200===i.status&&0!==i.data.code&&t.$message(i.data.msg);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitFile:function(e,t,i){var a=this;if(a.fileOtherData.bizId=e,a.fileOtherData.bizType=t,a.fileOtherData.isSingle=i,!a.showFileList){var n=a.$refs[a.uploadRef].uploadFiles.length-1;a.$refs[a.uploadRef].uploadFiles=[a.$refs[a.uploadRef].uploadFiles[n]],a.imgFileList.map((function(e){a.removeFileAry.push(e.id)})),a.imgFileList.length>0&&a.deleteAttachment()}a.$refs[a.uploadRef].submit(),a.$store.state.hasLoading=!1,a.addFileAry=[]},deleteAttachmentByIds:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this,e.next=3,s["a"].deleteAttachment({ids:t});case 3:a=e.sent,200===a.status&&(0!==a.data.code?i.$message(a.data.msg):i.removeFileAry=[]);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},u=o,c=(i("a849"),i("2877")),d=Object(c["a"])(u,a,n,!1,null,"bb12a1ec",null);t["a"]=d.exports},9607:function(e,t,i){},a849:function(e,t,i){"use strict";var a=i("9607"),n=i.n(a);n.a},ff99:function(e,t,i){"use strict";var a=i("8555"),n=i.n(a);n.a}}]);