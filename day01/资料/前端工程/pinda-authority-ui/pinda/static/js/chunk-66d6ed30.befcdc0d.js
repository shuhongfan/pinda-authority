(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66d6ed30"],{"2d64":function(t,e,i){"use strict";var s=i("db72"),a=i("9256"),n={page:{url:"/authority/station/page",method:"GET"},save:{url:"/authority/station",method:"POST"},update:{url:"/authority/station",method:"PUT"},delete:{url:"/authority/station",method:"DELETE"}};e["a"]={page:function(t){return Object(a["a"])(Object(s["a"])({},n.page,{formData:!0,data:t}))},save:function(t){return Object(a["a"])(Object(s["a"])({},n.save,{data:t}))},update:function(t){return Object(a["a"])(Object(s["a"])({},n.update,{data:t}))},delete:function(t){return Object(a["a"])(Object(s["a"])({},n.delete,{data:t}))}}},ff09:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!0,title:t.title,type:t.type,visible:t.isVisible,width:t.width,top:"50px"},on:{"update:visible":function(e){t.isVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.station,rules:t.rules,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:t.$t("table.station.name"),prop:"name"}},[i("el-input",{model:{value:t.station.name,callback:function(e){t.$set(t.station,"name",e)},expression:"station.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.station.orgId"),prop:"orgId"}},[i("treeselect",{staticStyle:{width:"100%"},attrs:{"clear-value-text":t.$t("common.clear"),"load-options":t.loadListOptions,multiple:!1,options:t.orgList,searchable:!0,placeholder:" "},model:{value:t.station.orgId,callback:function(e){t.$set(t.station,"orgId",e)},expression:"station.orgId"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.station.status"),prop:"status"}},[i("el-radio-group",{model:{value:t.station.status,callback:function(e){t.$set(t.station,"status",e)},expression:"station.status"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("common.status.valid")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("common.status.invalid")))])],1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.station.describe"),prop:"describe"}},[i("el-input",{model:{value:t.station.describe,callback:function(e){t.$set(t.station,"describe",e)},expression:"station.describe"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(e){t.isVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),i("el-button",{attrs:{plain:"",type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)},a=[],n=i("db72"),o=i("7026"),r=i.n(o),l=(i("542c"),i("2d64")),c={name:"StationEdit",components:{Treeselect:r.a},props:{dialogVisible:{type:Boolean,default:!1},type:{type:String,default:"add"}},data:function(){var t=this;return{remoteStationLoading:!1,station:this.initStation(),screenWidth:0,width:this.initWidth(),orgList:[],stationList:[],rules:{name:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:this.$t("rules.range4to10"),trigger:"blur"},{validator:function(e,i,s){t.station.id,s()},trigger:"blur"}],status:{required:!0,message:this.$t("rules.require"),trigger:"blur"}}}},computed:{isVisible:{get:function(){return this.dialogVisible},set:function(){this.close(),this.reset()}},title:function(){return"add"===this.type?this.$t("common.add"):this.$t("common.edit")}},watch:{},mounted:function(){var t=this;window.onresize=function(){return function(){t.width=t.initWidth()}()}},methods:{initStation:function(){return{id:"",name:"",orgId:null,status:!0,describe:""}},initWidth:function(){return this.screenWidth=document.body.clientWidth,this.screenWidth<991?"90%":this.screenWidth<1400?"45%":"800px"},loadListOptions:function(t){var e=t.callback;e()},setStation:function(t,e){var i=this;i.orgList=e,t&&(i.station=Object(n["a"])({},t))},close:function(){this.$emit("close")},reset:function(){this.$refs.form.clearValidate(),this.$refs.form.resetFields(),this.station=this.initStation()},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.editSubmit()}))},editSubmit:function(){var t=this;"add"===t.type?t.save():t.update()},save:function(){var t=this;l["a"].save(this.station).then((function(e){var i=e.data;i.isSuccess&&(t.isVisible=!1,t.$message({message:t.$t("tips.createSuccess"),type:"success"}),t.$emit("success"))}))},update:function(){var t=this;l["a"].update(this.station).then((function(e){var i=e.data;i.isSuccess&&(t.isVisible=!1,t.$message({message:t.$t("tips.updateSuccess"),type:"success"}),t.$emit("success"))}))}}},u=c,d=i("2877"),m=Object(d["a"])(u,s,a,!1,null,"96f21de4",null);e["default"]=m.exports}}]);