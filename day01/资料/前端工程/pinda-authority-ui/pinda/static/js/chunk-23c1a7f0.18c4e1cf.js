(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23c1a7f0"],{"00c6":function(e,t,s){},"45bd":function(e,t,s){"use strict";var n=s("db72"),r=s("9256"),i={page:{url:"/msgs/msgsCenterInfo/page",method:"GET"},mark:{url:"/msgs/msgsCenterInfo/mark",method:"GET"},save:{url:"/msgs/msgsCenterInfo",method:"POST"},delete:{url:"/msgs/msgsCenterInfo",method:"DELETE"}};t["a"]={page:function(e){return Object(r["a"])(Object(n["a"])({},i.page,{formData:!0,data:e}))},save:function(e){return Object(r["a"])(Object(n["a"])({},i.save,{data:e}))},delete:function(e){return Object(r["a"])(Object(n["a"])({},i.delete,{data:e}))},mark:function(e){return Object(r["a"])(Object(n["a"])({},i.mark,{data:e}))},get:function(e){return Object(r["a"])({url:"/msgs/msgsCenterInfo/".concat(e),method:"GET"})}}},"61d9":function(e,t,s){"use strict";var n=s("db72"),r=s("9256"),i={page:{url:"/authority/role/page",method:"GET"},save:{url:"/authority/role",method:"POST"},update:{url:"/authority/role",method:"PUT"},delete:{url:"/authority/role",method:"DELETE"},saveUserRole:{url:"/authority/role/user",method:"POST"},saveRoleAuthority:{url:"/authority/role/authority",method:"POST"}};t["a"]={page:function(e){return Object(r["a"])(Object(n["a"])({},i.page,{formData:!0,data:e}))},save:function(e){return Object(r["a"])(Object(n["a"])({},i.save,{data:e}))},update:function(e){return Object(r["a"])(Object(n["a"])({},i.update,{data:e}))},delete:function(e){return Object(r["a"])(Object(n["a"])({},i.delete,{data:e}))},get:function(e){return Object(r["a"])({url:"/authority/role/".concat(e),method:"GET"})},check:function(e){return Object(r["a"])({url:"/authority/role/check/".concat(e),method:"GET"})},saveUserRole:function(e){return Object(r["a"])(Object(n["a"])({},i.saveUserRole,{data:e}))},findUserIdByRoleId:function(e){return Object(r["a"])({url:"/authority/role/user/".concat(e),method:"GET"})},findAuthorityIdByRoleId:function(e){return Object(r["a"])({url:"/authority/role/authority/".concat(e),method:"GET"})},saveRoleAuthority:function(e){return Object(r["a"])(Object(n["a"])({},i.saveRoleAuthority,{data:e}))}}},"688c":function(e,t,s){},"695a":function(e,t,s){"use strict";var n=s("00c6"),r=s.n(n);r.a},"9fb8":function(e,t,s){"use strict";var n=s("db72"),r=s("9256"),i={page:{method:"GET",url:"/authority/user/page"},save:{method:"POST",url:"/authority/user"},update:{method:"PUT",url:"/authority/user"},avatar:{method:"PUT",url:"/authority/user/avatar"},delete:{method:"DELETE",url:"/authority/user"},reset:{method:"GET",url:"/authority/user/reset"},updatePassword:{method:"PUT",url:"/authority/user/password"}};t["a"]={page:function(e){return Object(r["a"])(Object(n["a"])({},i.page,{formData:!0,data:e}))},save:function(e){return Object(r["a"])(Object(n["a"])({},i.save,{data:e}))},update:function(e){return Object(r["a"])(Object(n["a"])({},i.update,{data:e}))},updatePassword:function(e){return Object(r["a"])(Object(n["a"])({},i.updatePassword,{data:e}))},delete:function(e){return Object(r["a"])(Object(n["a"])({},i.delete,{data:e}))},reset:function(e){return Object(r["a"])(Object(n["a"])({},i.reset,{data:e}))},avatar:function(e){return Object(r["a"])(Object(n["a"])({},i.avatar,{data:e}))}}},bc8c:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"form",attrs:{model:e.msgsCenterInfo,rules:e.rules,"label-position":"right","label-width":"100px","status-icon":""}},[s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.title"),prop:"msgsCenterInfoDTO.title"}},[s("el-input",{attrs:{disabled:"view"===e.type,maxlength:255},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.title,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"title",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.title"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.bizType"),prop:"msgsCenterInfoDTO.bizType"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"view"===e.type,clearable:"",placeholder:"",value:""},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.bizType.code,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO.bizType,"code",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.bizType.code"}},e._l(e.enums.MsgsBizType,(function(e,t,n){return s("el-option",{key:n,attrs:{label:e,value:t}})})),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.bizId"),prop:"msgsCenterInfoDTO.bizId"}},[s("el-input",{attrs:{disabled:"view"===e.type,maxlength:255},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.bizId,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"bizId",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.bizId"}})],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.msgsCenterType"),prop:"msgsCenterInfoDTO.msgsCenterType"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"view"===e.type,placeholder:"",value:""},on:{change:e.msgsCenterTypeChange},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType.code,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType,"code",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType.code"}},e._l(e.enums.MsgsCenterType,(function(e,t,n){return s("el-option",{key:n,attrs:{label:e,value:t}})})),1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.type,expression:"type!=='view'"}],attrs:{label:"接收类型",prop:"msgsCenterInfoDTO.receiveType"}},[s("el-radio-group",{attrs:{disabled:"view"===e.type||e.disabledReceiveType},model:{value:e.msgsCenterInfo.receiveType,callback:function(t){e.$set(e.msgsCenterInfo,"receiveType",t)},expression:"msgsCenterInfo.receiveType"}},[s("el-radio-button",{attrs:{label:"user"}},[e._v("用户")]),e._v(" "),s("el-radio-button",{attrs:{label:"role"}},[e._v("角色")])],1)],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},["user"===e.msgsCenterInfo.receiveType?s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.type,expression:"type!=='view'"}],attrs:{label:"接收用户",prop:"userIdList"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"view"===e.type||e.disabledReceiveType,"collapse-tags":"",multiple:"",placeholder:"",value:""},on:{change:e.userSelect},model:{value:e.msgsCenterInfo.userIdList,callback:function(t){e.$set(e.msgsCenterInfo,"userIdList",t)},expression:"msgsCenterInfo.userIdList"}},e._l(e.allUserList,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):s("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.type,expression:"type!=='view'"}],attrs:{label:"接收角色",prop:"roleCodeList"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{disabled:"view"===e.type||e.disabledReceiveType,"collapse-tags":"",multiple:"",placeholder:"",value:""},on:{change:e.roleSelect},model:{value:e.msgsCenterInfo.roleCodeList,callback:function(t){e.$set(e.msgsCenterInfo,"roleCodeList",t)},expression:"msgsCenterInfo.roleCodeList"}},e._l(e.allRoleList,(function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),1)],1)],1)],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.author"),prop:"msgsCenterInfoDTO.author"}},[s("el-input",{attrs:{disabled:"view"===e.type,maxlength:255},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.author,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"author",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.author"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.handlerUrl"),prop:"msgsCenterInfoDTO.handlerUrl"}},[s("el-input",{attrs:{disabled:"view"===e.type,maxlength:255},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.handlerUrl,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"handlerUrl",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.handlerUrl"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:8}},[s("el-form-item",{attrs:{label:e.$t("table.msgs.isSingleHandle"),prop:"msgsCenterInfoDTO.isSingleHandle"}},[s("el-radio-group",{attrs:{disabled:"view"===e.type},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.isSingleHandle,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"isSingleHandle",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.isSingleHandle"}},[s("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("common.yes")))]),e._v(" "),s("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("common.no")))])],1)],1)],1)],1),e._v(" "),s("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{prop:"msgsCenterInfoDTO.content"}},[s("Tinymce",{ref:"content",attrs:{height:400},model:{value:e.msgsCenterInfo.msgsCenterInfoDTO.content,callback:function(t){e.$set(e.msgsCenterInfo.msgsCenterInfoDTO,"content",t)},expression:"msgsCenterInfo.msgsCenterInfoDTO.content"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:"view"!==e.type,expression:"type!=='view'"}],attrs:{disabled:e.disabled,plain:"",type:"primary"},on:{click:function(t){return e.submitForm(!1)}}},[e._v("发送")])],1)],1)},r=[],i=(s("6762"),s("2fdb"),s("75fc")),o=s("45bd"),a=s("61d9"),l=s("9fb8"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tinymce-container",class:{fullscreen:e.fullscreen},style:{width:e.containerWidth}},[s("textarea",{staticClass:"tinymce-textarea",attrs:{id:e.tinymceId}}),e._v(" "),s("div",{staticClass:"editor-custom-btn-container"},[s("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:e.imageSuccessCBK}})],1)])},u=[],d=(s("ac6a"),s("c5f6"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload-container"},[s("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("upload")]),e._v(" "),s("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("Click upload")])],1),e._v(" "),s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("Confirm")])],1)],1)}),m=[],f=(s("456d"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every((function(t){return e.listObj[t].hasSuccess}))},handleSubmit:function(){var e=this,t=Object.keys(this.listObj).map((function(t){return e.listObj[t]}));this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},handleSuccess:function(e,t){for(var s=t.uid,n=Object.keys(this.listObj),r=0,i=n.length;r<i;r++)if(this.listObj[n[r]].uid===s)return this.listObj[n[r]].url=e.files.file,void(this.listObj[n[r]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,s=Object.keys(this.listObj),n=0,r=s.length;n<r;n++)if(this.listObj[s[n]].uid===t)return void delete this.listObj[s[n]]},beforeUpload:function(e){var t=this,s=window.URL||window.webkitURL,n=e.uid;return this.listObj[n]={},new Promise((function(r){var i=new Image;i.src=s.createObjectURL(e),i.onload=function(){t.listObj[n]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},r(!0)}))}}}),g=f,h=(s("695a"),s("2877")),p=Object(h["a"])(g,d,m,!1,null,"20b699ea",null),b=p.exports,v=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],y=v,C=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],I=C,T=(s("ac4d"),s("8a81"),[]);function O(){return window.tinymce}var w=function(e,t){var s=document.getElementById(e),n=t||function(){};if(!s){var r=document.createElement("script");r.src=e,r.id=e,document.body.appendChild(r),T.push(n);var i="onload"in r?o:a;i(r)}function o(t){t.onload=function(){this.onerror=this.onload=null;var e=!0,s=!1,n=void 0;try{for(var r,i=T[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o(null,t)}}catch(a){s=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(s)throw n}}T=null},t.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+e),t)}}function a(e){e.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var t=!0,s=!1,n=void 0;try{for(var r,i=T[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o(null,e)}}catch(a){s=!0,n=a}finally{try{t||null==i.return||i.return()}finally{if(s)throw n}}T=null}}}s&&n&&(O()?n(null,s):T.push(n))},j=w,_="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",L={name:"Tinymce",components:{editorImage:b},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]},containerWidth:function(){var e=this.width;return/^[\d]+(\.[\d]+)?$/.test(e)?"".concat(e,"px"):e}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(t.tinymceId).setContent(e||"")}))},language:function(){var e=this;this.destroyTinymce(),this.$nextTick((function(){return e.initTinymce()}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var e=this;j(_,(function(t){t?e.$message.error(t.message):e.initTinymce()}))},initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:I,menubar:this.menubar,plugins:y,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(s){t.value&&s.setContent(t.value),t.hasInit=!0,s.on("NodeChange Change KeyUp SetContent",(function(){e.hasChange=!0,e.$emit("input",s.getContent())}))},setup:function(e){e.on("FullscreenStateChanged",(function(e){t.fullscreen=e.state}))}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e||"")},getContent:function(){return window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach((function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'.concat(e.url,'" >'))}))}}},k=L,S=(s("d628"),Object(h["a"])(k,c,u,!1,null,"3e4375fa",null)),D=S.exports,$={name:"MsgsEdit",components:{Tinymce:D},filters:{},props:{},data:function(){var e=this;return{allUserList:[],allRoleList:[],oldChooseUserIdList:[[]],oldChooseRoleIdList:[[]],dialog:{isVisible:!1},type:"add",msgsCenterInfo:this.initMsgsCenterInfo(),disabled:!1,disabledReceiveType:!1,rules:{"msgsCenterInfoDTO.title":[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],"msgsCenterInfoDTO.content":[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:65535,message:"长度在 1 到 65535 个字符",trigger:"blur"}],"msgsCenterInfoDTO.msgsCenterType":{required:!0,message:this.$t("rules.require"),trigger:"change"},roleCodeList:{validator:function(t,s,n){"role"===e.msgsCenterInfo.receiveType&&"PUBLICITY"!==e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType.code&&e.msgsCenterInfo.roleCodeList.length<=0?n("请选择角色"):n()},trigger:"blur"},userIdList:{validator:function(t,s,n){"user"===e.msgsCenterInfo.receiveType&&"PUBLICITY"!==e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType.code&&e.msgsCenterInfo.userIdList.length<=0?n("请选择用户"):n()},trigger:"blur"},"msgsCenterInfoDTO.handlerUrl":{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}}}},computed:{enums:function(){return this.$store.state.common.enums}},watch:{$route:function(){"/msgs/sendMsgs"===this.$route.path&&(this.loadMsgs(),this.loadUserList(),this.loadRoleList())}},mounted:function(){this.loadMsgs(),this.loadUserList(),this.loadRoleList()},methods:{initMsgsCenterInfo:function(){return{userIdList:[],roleCodeList:[],receiveType:"user",msgsCenterInfoDTO:{id:"",bizId:"",bizType:{code:""},msgsCenterType:{code:""},title:"",content:"",author:"",handlerUrl:"",handlerParams:"",isSingleHandle:!0}}},loadMsgs:function(){var e=this,t=this.$route.query.type,s=this.$route.query.id;this.type=t,"view"===t?o["a"].get(s).then((function(t){var s=t.data;s.isSuccess&&(e.msgsCenterInfo.msgsCenterInfoDTO=s.data,null===e.msgsCenterInfo.msgsCenterInfoDTO.bizType&&(e.msgsCenterInfo.msgsCenterInfoDTO.bizType={code:""}),null===e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType&&(e.msgsCenterInfo.msgsCenterInfoDTO.msgsCenterType={code:""}))})):this.reset()},loadUserList:function(){var e=this;l["a"].page({current:1,size:1e4}).then((function(t){var s=t.data;s.isSuccess&&s.data.records.length>0&&(e.allUserList=[{id:"-1",name:"全选"}].concat(Object(i["a"])(s.data.records)))}))},loadRoleList:function(){var e=this;a["a"].page({current:1,size:1e4}).then((function(t){var s=t.data;s.isSuccess&&s.data.records.length>0&&(e.allRoleList=[{code:"-1",name:"全选"}].concat(Object(i["a"])(s.data.records)))}))},msgsCenterTypeChange:function(e){this.disabledReceiveType="PUBLICITY"===e},userSelect:function(e){var t=this.allUserList.map((function(e){return e.id})),s=1===this.oldChooseUserIdList.length?[]:this.oldChooseUserIdList[1];if(e.includes("-1")&&(this.msgsCenterInfo.userIdList=t),s.includes("-1")&&!e.includes("-1")&&(this.msgsCenterInfo.userIdList=[]),s.includes("-1")&&e.includes("-1")){var n=e.indexOf("-1");e.splice(n,1),this.msgsCenterInfo.userIdList=e}s.includes("-1")||e.includes("-1")||e.length===t.length-1&&(this.msgsCenterInfo.userIdList=["-1"].concat(e)),this.oldChooseUserIdList[1]=this.msgsCenterInfo.userIdList},roleSelect:function(e){var t=this.allRoleList.map((function(e){return e.code})),s=1===this.oldChooseRoleIdList.length?[]:this.oldChooseRoleIdList[1];if(e.includes("-1")&&(this.msgsCenterInfo.roleCodeList=t),s.includes("-1")&&!e.includes("-1")&&(this.msgsCenterInfo.roleCodeList=[]),s.includes("-1")&&e.includes("-1")){var n=e.indexOf("-1");e.splice(n,1),this.msgsCenterInfo.roleCodeList=e}s.includes("-1")||e.includes("-1")||e.length===t.length-1&&(this.msgsCenterInfo.roleCodeList=["-1"].concat(e)),this.oldChooseRoleIdList[1]=this.msgsCenterInfo.roleCodeList},reset:function(){var e=this;this.$refs.form.clearValidate(),this.$refs.form.resetFields(),this.msgsCenterInfo=this.initMsgsCenterInfo(),setTimeout((function(){e.$refs.content.setContent("")}),1e3)},submitForm:function(e){var t=this;console.log(t.msgsCenterInfo),this.$refs.form.validate((function(s){if(!s)return!1;t.editSubmit(e)}))},editSubmit:function(){var e=this;"edit"===e.type?e.update():e.save()},save:function(){var e=this;e.disabled=!0,o["a"].save(e.msgsCenterInfo).then((function(t){e.disabled=!1;var s=t.data;s.isSuccess&&(e.$message({message:e.$t("tips.createSuccess"),type:"success"}),e.reset(),e.$router.push("/msgs/myMsgs"))}))},update:function(){var e=this;e.disabled=!0,o["a"].update(e.msgs).then((function(t){e.disabled=!1;var s=t.data;s.isSuccess&&(e.$message({message:e.$t("tips.createSuccess"),type:"success"}),e.reset(),e.$router.push("/msgs/myMsgs"))}))}}},x=$,U=Object(h["a"])(x,n,r,!1,null,"113ec761",null);t["default"]=U.exports},d628:function(e,t,s){"use strict";var n=s("688c"),r=s.n(n);r.a}}]);