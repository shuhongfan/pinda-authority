(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccb811ec"],{"81b7":function(e,t,s){"use strict";var a=s("a4c9"),l=s.n(a);l.a},a4c9:function(e,t,s){},b92b:function(e,t,s){"use strict";var a=s("db72"),l=s("9256"),i={page:{url:"/msgs/smsTemplate/page",method:"GET"},save:{url:"/msgs/smsTemplate",method:"POST"},update:{url:"/msgs/smsTemplate",method:"PUT"},delete:{url:"/msgs/smsTemplate",method:"DELETE"},check:{url:"/msgs/smsTemplate/check",method:"GET"}};t["a"]={page:function(e){return Object(l["a"])(Object(a["a"])({},i.page,{formData:!0,data:e}))},save:function(e){return Object(l["a"])(Object(a["a"])({},i.save,{data:e}))},update:function(e){return Object(l["a"])(Object(a["a"])({},i.update,{data:e}))},delete:function(e){return Object(l["a"])(Object(a["a"])({},i.delete,{data:e}))},check:function(e){var t={customCode:e};return Object(l["a"])(Object(a["a"])({},i.check,{data:t}))}}},e4c4:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!0,title:e.title,type:e.type,visible:e.isVisible,width:e.width,top:"50px"},on:{"update:visible":function(t){e.isVisible=t}}},[s("el-form",{ref:"form",attrs:{model:e.smsTemplate,rules:e.rules,"label-position":"right","label-width":"100px"}},[s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.providerType"),prop:"providerType"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"",value:""},model:{value:e.smsTemplate.providerType.code,callback:function(t){e.$set(e.smsTemplate.providerType,"code",t)},expression:"smsTemplate.providerType.code"}},e._l(e.enums.ProviderType,(function(e,t,a){return s("el-option",{key:a,attrs:{label:e,value:t}})})),1)],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.appId"),prop:"appId"}},[s("el-input",{model:{value:e.smsTemplate.appId,callback:function(t){e.$set(e.smsTemplate,"appId",t)},expression:"smsTemplate.appId"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.appSecret"),prop:"appSecret"}},[s("el-input",{model:{value:e.smsTemplate.appSecret,callback:function(t){e.$set(e.smsTemplate,"appSecret",t)},expression:"smsTemplate.appSecret"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.url"),prop:"url"}},[s("el-input",{model:{value:e.smsTemplate.url,callback:function(t){e.$set(e.smsTemplate,"url",t)},expression:"smsTemplate.url"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.customCode"),prop:"customCode"}},[s("el-input",{attrs:{disabled:"edit"===e.type},model:{value:e.smsTemplate.customCode,callback:function(t){e.$set(e.smsTemplate,"customCode",t)},expression:"smsTemplate.customCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.name"),prop:"name"}},[s("el-input",{model:{value:e.smsTemplate.name,callback:function(t){e.$set(e.smsTemplate,"name",t)},expression:"smsTemplate.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.content"),prop:"content"}},[s("el-input",{model:{value:e.smsTemplate.content,callback:function(t){e.$set(e.smsTemplate,"content",t)},expression:"smsTemplate.content"}}),e._v(" "),s("aside",[e._v("\n        百度云：使用 ${xx} 作为占位符\n        "),s("br"),e._v("\n        阿里云：使用 ${xx} 作为占位符\n        "),s("br"),e._v("\n        腾讯云：使用 {xx} 作为占位符\n      ")])],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.templateCode"),prop:"templateCode"}},[s("el-input",{model:{value:e.smsTemplate.templateCode,callback:function(t){e.$set(e.smsTemplate,"templateCode",t)},expression:"smsTemplate.templateCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.signName"),prop:"signName"}},[s("el-input",{model:{value:e.smsTemplate.signName,callback:function(t){e.$set(e.smsTemplate,"signName",t)},expression:"smsTemplate.signName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("table.smsTemplate.templateDescribe"),prop:"templateDescribe"}},[s("el-input",{model:{value:e.smsTemplate.templateDescribe,callback:function(t){e.$set(e.smsTemplate,"templateDescribe",t)},expression:"smsTemplate.templateDescribe"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(t){e.isVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),e._v(" "),s("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("common.confirm")))])],1)],1)},l=[],i=s("db72"),m=s("b92b"),r={name:"SmsTemplateEdit",components:{},props:{dialogVisible:{type:Boolean,default:!1},type:{type:String,default:"add"}},data:function(){var e=this;return{smsTemplate:this.initSmsTemplate(),screenWidth:0,width:this.initWidth(),rules:{providerType:[{required:!0,message:this.$t("rules.require"),trigger:"change"}],appId:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:this.$t("rules.range4to10"),trigger:"blur"}],appSecret:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:this.$t("rules.range4to10"),trigger:"blur"}],customCode:[{min:0,max:20,message:this.$t("rules.range4to10"),trigger:"blur"},{validator:function(t,s,a){"add"===e.type&&""!==s.trim()?m["a"].check(s).then((function(e){var t=e.data;t.data?a("自定义编码重复"):a()})):a()},trigger:"blur"}],content:{required:!0,message:this.$t("rules.require"),trigger:"blur"},templateCode:{required:!0,message:this.$t("rules.require"),trigger:"blur"}}}},computed:{isVisible:{get:function(){return this.dialogVisible},set:function(){this.close(),this.reset()}},title:function(){return"add"===this.type?this.$t("common.add"):this.$t("common.edit")},enums:function(){return this.$store.state.common.enums}},watch:{},mounted:function(){var e=this;window.onresize=function(){return function(){e.width=e.initWidth()}()}},methods:{initSmsTemplate:function(){return{id:"",providerType:{code:""},appId:"",appSecret:"",url:"",customCode:"",name:"",content:"",templateParams:"",templateCode:"",signName:"",templateDescribe:""}},initWidth:function(){return this.screenWidth=document.body.clientWidth,this.screenWidth<991?"90%":this.screenWidth<1400?"45%":"800px"},loadListOptions:function(e){var t=e.callback;t()},setSmsTemplate:function(e){var t=this;e&&(t.smsTemplate=Object(i["a"])({},e))},close:function(){this.$emit("close")},reset:function(){this.$refs.form.clearValidate(),this.$refs.form.resetFields(),this.smsTemplate=this.initSmsTemplate()},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.editSubmit()}))},editSubmit:function(){var e=this;"add"===e.type?e.save():e.update()},save:function(){var e=this;m["a"].save(this.smsTemplate).then((function(t){var s=t.data;s.isSuccess&&(e.isVisible=!1,e.$message({message:e.$t("tips.createSuccess"),type:"success"}),e.$emit("success"))}))},update:function(){var e=this;m["a"].update(this.smsTemplate).then((function(t){var s=t.data;s.isSuccess&&(e.isVisible=!1,e.$message({message:e.$t("tips.updateSuccess"),type:"success"}),e.$emit("success"))}))}}},n=r,o=(s("81b7"),s("2877")),p=Object(o["a"])(n,a,l,!1,null,"571d5cb2",null);t["default"]=p.exports}}]);