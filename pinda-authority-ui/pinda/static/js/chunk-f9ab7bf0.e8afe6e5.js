(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9ab7bf0"],{"20db":function(e,t,i){"use strict";var r=i("db72"),s=i("9256"),n={page:{method:"GET",url:"/authority/resource/page"},save:{method:"POST",url:"/authority/resource"},update:{method:"PUT",url:"/authority/resource"},delete:{method:"DELETE",url:"/authority/resource"}};t["a"]={page:function(e){return Object(s["a"])(Object(r["a"])({},n.page,{formData:!0,data:e}))},save:function(e){return Object(s["a"])(Object(r["a"])({},n.save,{data:e}))},update:function(e){return Object(s["a"])(Object(r["a"])({},n.update,{data:e}))},delete:function(e){return Object(s["a"])(Object(r["a"])({},n.delete,{data:e}))}}},2472:function(e,t,i){"use strict";var r=i("415f"),s=i.n(r);s.a},"415f":function(e,t,i){},8566:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,type:e.type,visible:e.isVisible,width:e.width,top:"50px"},on:{"update:visible":function(t){e.isVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.resource,rules:e.rules,"label-position":"right","label-width":"100px"}},[i("el-form-item",{attrs:{label:e.$t("table.resource.code"),prop:"code"}},[i("el-input",{attrs:{disabled:"edit"===e.type},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}},model:{value:e.resource.code,callback:function(t){e.$set(e.resource,"code",t)},expression:"resource.code"}}),e._v(" "),i("p",{staticClass:"note"},[e._v("建议使用:作为分隔符，并以view、add、update、delete、export、import、download、upload等关键词结尾")]),e._v(" "),i("p",{staticClass:"note"},[e._v("如：menu:add、 resource:view、 file:upload")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("table.resource.name"),prop:"name"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[i("el-input",{model:{value:e.resource.name,callback:function(t){e.$set(e.resource,"name",t)},expression:"resource.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("table.resource.describe"),prop:"describe"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm(t)}}},[i("el-input",{model:{value:e.resource.describe,callback:function(t){e.$set(e.resource,"describe",t)},expression:"resource.describe"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(t){e.isVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),e._v(" "),i("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.submitForm}},[e._v(e._s(e.$t("common.confirm")))])],1)],1)},s=[],n=i("db72"),o=i("20db"),u={name:"ResourceEdit",components:{},props:{dialogVisible:{type:Boolean,default:!1},type:{type:String,default:"add"}},data:function(){var e=this;return{resource:this.initResource(),screenWidth:0,width:this.initWidth(),rules:{code:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:this.$t("rules.range4to10"),trigger:"blur"},{validator:function(t,i,r){e.resource.id,r()},trigger:"blur"}],name:{required:!0,message:this.$t("rules.require"),trigger:"blur"}}}},computed:{isVisible:{get:function(){return this.dialogVisible},set:function(){this.close(),this.reset()}},title:function(){return"add"===this.type?this.$t("common.add"):this.$t("common.edit")}},watch:{},mounted:function(){var e=this;window.onresize=function(){return function(){e.width=e.initWidth()}()}},methods:{initResource:function(){return{id:"",name:"",code:"",describe:""}},initWidth:function(){return this.screenWidth=document.body.clientWidth,this.screenWidth<991?"90%":this.screenWidth<1400?"45%":"800px"},setResource:function(e){var t=this;e&&(t.resource=Object(n["a"])({},e))},close:function(){this.$emit("close")},reset:function(){this.$refs.form.clearValidate(),this.$refs.form.resetFields(),this.resource=this.initResource()},submitForm:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.editSubmit()}))},editSubmit:function(){var e=this;"add"===e.type?e.save():e.update()},save:function(){var e=this;o["a"].save(this.resource).then((function(t){var i=t.data;i.isSuccess&&(e.isVisible=!1,e.$message({message:e.$t("tips.createSuccess"),type:"success"}),e.$emit("success"))}))},update:function(){var e=this;o["a"].update(this.resource).then((function(t){var i=t.data;i.isSuccess&&(e.isVisible=!1,e.$message({message:e.$t("tips.updateSuccess"),type:"success"}),e.$emit("success"))}))}}},a=u,c=(i("2472"),i("2877")),l=Object(c["a"])(a,r,s,!1,null,"cc661b62",null);t["default"]=l.exports}}]);