(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02fd619e"],{"17c7":function(t,a,e){},9406:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main"},[e("el-card",[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{sm:24,xs:24}},[e("div",{staticClass:"app-container user-container"},[e("el-row",{attrs:{gutter:10}},[e("el-col",{attrs:{sm:12,xs:24}},[e("div",{staticClass:"user-wrapper"},[e("div",{staticClass:"user-header"},[e("el-avatar",{attrs:{size:60,src:t.avatar,fit:"fill"}},[e("el-avatar",{attrs:{size:60}},[t._v(t._s(t._f("userAvatarFilter")(t.user.name)))])],1)],1),t._v(" "),e("div",{staticClass:"user-info"},[e("div",{staticClass:"random-message"},[t._v(t._s(t.welcomeMessage))]),t._v(" "),e("div",{staticClass:"user-dept"},[e("span",[t._v(t._s(t.user.workDescribe?t.user.workDescribe:t.$t("common.noWorkDescribe")))])]),t._v(" "),e("div",{staticClass:"user-login-info"},[t._v("\n                    "+t._s(t.$t("common.lastLoginTime"))+"：\n                    "),e("span",{attrs:{id:"last-login-time"}},[t._v(t._s(t.user.lastLoginTime?t.user.lastLoginTime:t.$t("common.firstLogin")))])])])])]),t._v(" "),e("el-col",{attrs:{sm:12,xs:24}},[e("div",{staticClass:"user-visits"},[e("el-row",{staticStyle:{"margin-bottom":"5px"}},[e("el-col",{staticClass:"num",attrs:{offset:4,span:4}},[e("el-link",{staticStyle:{color:"#F04B30","font-size":"18px"},attrs:{type:"primary"}},[e("countTo",{attrs:{duration:3e3,"end-val":t.todayIp,"start-val":0}})],1)],1),t._v(" "),e("el-col",{staticClass:"num",attrs:{offset:4,span:4}},[e("el-link",{staticStyle:{color:"#F04B30","font-size":"18px"},attrs:{type:"primary"}},[e("countTo",{attrs:{duration:3e3,"end-val":t.todayVisit,"start-val":0}})],1)],1),t._v(" "),e("el-col",{staticClass:"num",attrs:{offset:4,span:4}},[e("el-link",{staticStyle:{color:"#F04B30","font-size":"18px"},attrs:{type:"primary"}},[e("countTo",{attrs:{duration:3e3,"end-val":t.totalVisit,"start-val":0}})],1)],1)],1),t._v(" "),e("el-row",{staticStyle:{"margin-bottom":".7rem"}},[e("el-col",{attrs:{offset:4,span:4}},[t._v(t._s(t.$t("common.todayIp")))]),t._v(" "),e("el-col",{attrs:{offset:4,span:4}},[t._v(t._s(t.$t("common.todayVisit")))]),t._v(" "),e("el-col",{attrs:{offset:4,span:4}},[t._v(t._s(t.$t("common.TotalVisit")))])],1)],1)])],1)],1)])],1)],1),t._v(" "),e("el-card",{staticStyle:{"margin-top":"10px",width:"50%",float:"left"}},[e("el-row",{attrs:{gutter:5}},[e("div",{staticClass:"app-container"},[e("div",{staticStyle:{width:"100%",height:"20rem"},attrs:{id:"visit-count-chart"}})])])],1),t._v(" "),e("el-card",{staticStyle:{"margin-top":"10px",width:"48%",float:"left","margin-left":"15px"}},[e("el-row",{attrs:{gutter:5}},[e("div",{staticClass:"app-container project-wrapper"},[e("table",[t._l(t.projects,(function(a,s){return[s%2==0?e("tr",{key:s},[e("td",[e("div",{staticClass:"project-avatar-wrapper"},[e("el-avatar",{staticClass:"project-avatar"},[t._v(t._s(t.projects[s].avatar))])],1),t._v(" "),e("div",{staticClass:"project-detail"},[e("div",{staticClass:"project-name"},[t._v(t._s(t.projects[s].name))]),t._v(" "),e("div",{staticClass:"project-desc"},[e("p",[t._v(t._s(t.projects[s].des))])])])]),t._v(" "),e("td",[e("div",{staticClass:"project-avatar-wrapper"},[e("el-avatar",{staticClass:"project-avatar"},[t._v(t._s(t.projects[s+1].avatar))])],1),t._v(" "),e("div",{staticClass:"project-detail"},[e("div",{staticClass:"project-name"},[t._v(t._s(t.projects[s+1].name))]),t._v(" "),e("div",{staticClass:"project-desc"},[e("p",[t._v(t._s(t.projects[s+1].des))])])])])]):t._e()]}))],2)])])],1),t._v(" "),e("el-card",{staticStyle:{"margin-top":"10px",width:"50%",float:"left"}},[e("el-row",{attrs:{gutter:5}},[e("div",{staticClass:"app-container"},[e("div",{staticStyle:{width:"100%",height:"20rem"},attrs:{id:"browser-count-chart"}})])])],1),t._v(" "),e("el-card",{staticStyle:{"margin-top":"10px",width:"48%",float:"left","margin-left":"15px"}},[e("el-row",{attrs:{gutter:5}},[e("div",{staticClass:"app-container"},[e("div",{staticStyle:{width:"100%",height:"20rem"},attrs:{id:"operating-system-count-chart"}})])])],1)],1)},r=[],i=(e("ac4d"),e("8a81"),e("ac6a"),e("c5f6"),e("7f7f"),e("5df3"),e("1c4c"),e("f559"),e("313e")),o=e.n(i),n=e("ed08"),l=e("ec1b"),c=e.n(l),d={data:function(){return{$_sidebarElm:null}},mounted:function(){var t=this;this.__resizeHandler=Object(n["a"])((function(){t.chart&&t.chart.resize()}),100),window.addEventListener("resize",this.__resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()}}};function u(t){return{color:["#487EC1","#48B9C1","#A27DE2","#32C0D6"],title:{text:t||"饼图",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}function p(t){return{backgroundColor:"#FFF",color:["#487EC1","#48B9C1","#A27DE2","#32C0D6"],title:{text:t||"柱形图",top:0,left:"0",textStyle:{color:"#487EC1",fontSize:14}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[],top:"18"},grid:{left:"3%",right:"5%",bottom:"3%",containLabel:!0,show:!1},toolbox:{feature:{dataView:{show:!1,readOnly:!1}}},xAxis:{type:"category",boundaryGap:!0,splitLine:{show:!1},data:[],axisLine:{lineStyle:{color:"#333"}}},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1}},series:[{type:"bar",data:[]}]}}var m=e("9256"),h={getVisitList:"/authority/dashboard/visit"},v={getVisitList:function(t){return Object(m["a"])({method:"GET",url:h.getVisitList,formData:!0,data:t})}},f={name:"Dashboard",components:{countTo:c.a},filters:{userAvatarFilter:function(t){return t.charAt(0)}},mixins:[d],data:function(){return{welcomeMessage:"",todayIp:0,todayVisit:0,totalVisit:0,chart:null,chartOption:p(this.$t("common.visitTitle")+"\n"),browserCountOption:u("访问用户浏览器"),operatingSystemCountOption:u("访问用户操作系统"),browserCountChart:null,operatingSystemCountChart:null,projects:[{name:"SpringBoot",des:"Spring Boot 2.1.2",avatar:"SB"},{name:"SpringCloud",des:"Spring Cloud Greenwich.RELEASE",avatar:"SC"},{name:"Spring Cloud alibaba",des:"SpringCloudAlibaba2.1.0.RELEASE & nacos & seata & Sentinel",avatar:"SCA"},{name:"Mybatis-Plus",des:"Mybatis-plus 3.2.0：Mybatis 增强组件",avatar:"MP"},{name:"J2cache",des:"J2cache2.7.8: 二级缓存框架",avatar:"J"},{name:"文件存储API",des:"封装文件接口，实现本地存储、阿里云、FastDFS存储的配置化",avatar:"F"},{name:"监控",des:"集成SpringBootAdmin、Zipkin、Redis、Mysql、定时任务等监控，对系统进行全方位监控护航",avatar:"M"},{name:"容器技术",des:"虚拟化容器技术，让迁移、部署更加方便快捷",avatar:"C"}]}},computed:{user:function(){return this.$store.state.account.user},avatar:function(){return this.user["avatar"]?this.user["avatar"].startsWith("http://")||this.user["avatar"].startsWith("https://")?this.user["avatar"]:e("a0fc")("./".concat(this.user.avatar)):e("fd89")}},mounted:function(){this.welcomeMessage=this.welcome(),this.initIndexData()},methods:{welcome:function(){var t=this,a=new Date,e=a.getHours(),s=e<6||e<=11?this.$t("common.goodMorning"):e<=13||e<=18?this.$t("common.goodAfternoon"):this.$t("common.goodEvening"),r=Array.from({length:10},(function(a,e){return t.$t("common.randomMessage."+e)})),i=Math.floor(Math.random()*r.length);return"".concat(s,", ").concat(this.user.name,", ").concat(r[i])},initIndexData:function(){var t=this;v.getVisitList({}).then((function(a){var e=a.data,s=e.data;t.todayIp=Number(s.todayIp),t.totalVisit=Number(s.totalVisitCount),t.todayVisit=Number(s.todayVisitCount),t.tenDaysData(s),t.browserCount(s.browserCount),t.operatingSystemCount(s.operatingSystemCount)}))},tenDaysData:function(t){for(var a=[],e=[],s=[],r=9;r>=0;r--){var i=Object(n["d"])(new Date((new Date).getTime()-864e5*r),"{y}-{m}-{d}"),l=!1,c=!0,d=!1,u=void 0;try{for(var p,m=t.lastTenVisitCount[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=p.value;if(h.login_date===i){l=!0,a.push(h.count);break}}}catch(b){d=!0,u=b}finally{try{c||null==m.return||m.return()}finally{if(d)throw u}}l||a.push(0);var v=!1,f=!0,y=!1,g=void 0;try{for(var C,_=t.lastTenUserVisitCount[Symbol.iterator]();!(f=(C=_.next()).done);f=!0){var w=C.value;if(w.login_date===i){v=!0,s.push(w.count);break}}}catch(b){y=!0,g=b}finally{try{f||null==_.return||_.return()}finally{if(y)throw g}}v||s.push(0),e.push(i)}this.chart=o.a.init(document.getElementById("visit-count-chart")),this.chartOption.legend.data=[this.$t("common.you"),this.$t("common.total")],this.chartOption.xAxis.data=e,this.chartOption.series.push({name:this.$t("common.you"),type:"bar",barWidth:"25%",color:"#FD7270",data:s}),this.chartOption.series.push({name:this.$t("common.total"),type:"bar",barWidth:"25%",color:"#5D7DF2",data:a}),this.chart.setOption(this.chartOption)},browserCount:function(t){if(t){var a=[],e=[];t.forEach((function(t){var s=t.browser||"未知";e.push({value:t.count,name:s}),a.push(s)})),this.browserCountOption.series[0].data=e,this.browserCountOption.legend.data=a,this.browserCountChart=o.a.init(document.getElementById("browser-count-chart"),"westeros"),this.browserCountChart.setOption(this.browserCountOption)}},operatingSystemCount:function(t){if(t){var a=[],e=[];t.forEach((function(t){var s=t.operating_system||"未知";e.push({value:t.count,name:s}),a.push(s)})),this.operatingSystemCountOption.series[0].data=e,this.operatingSystemCountOption.legend.data=a,this.browserCountChart=o.a.init(document.getElementById("operating-system-count-chart"),"westeros"),this.browserCountChart.setOption(this.operatingSystemCountOption)}}}},y=f,g=(e("af54"),e("2877")),C=Object(g["a"])(y,s,r,!1,null,null,null);a["default"]=C.exports},af54:function(t,a,e){"use strict";var s=e("17c7"),r=e.n(s);r.a}}]);