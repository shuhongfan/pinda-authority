(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15601c4a"],{"01d7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!0,title:t.title,type:t.type,visible:t.isVisible,width:t.width,top:"50px"},on:{"update:visible":function(e){t.isVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.application,rules:t.rules,"label-position":"right","label-width":"100px"}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"add"!==t.type,expression:"type!=='add' "}],attrs:{label:t.$t("table.application.appKey"),prop:"appKey"}},[i("el-input",{attrs:{disabled:"view"===t.type||"edit"===t.type},model:{value:t.application.appKey,callback:function(e){t.$set(t.application,"appKey",e)},expression:"application.appKey"}})],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"add"!==t.type,expression:"type!=='add' "}],attrs:{label:t.$t("table.application.appSecret"),prop:"appSecret"}},[i("el-input",{attrs:{disabled:"view"===t.type||"edit"===t.type},model:{value:t.application.appSecret,callback:function(e){t.$set(t.application,"appSecret",e)},expression:"application.appSecret"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.name"),prop:"name"}},[i("el-input",{attrs:{disabled:"view"===t.type},model:{value:t.application.name,callback:function(e){t.$set(t.application,"name",e)},expression:"application.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.website"),prop:"website"}},[i("el-input",{attrs:{disabled:"view"===t.type},model:{value:t.application.website,callback:function(e){t.$set(t.application,"website",e)},expression:"application.website"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.icon"),prop:"icon"}},[i("el-input",{attrs:{disabled:"icon"===t.type},model:{value:t.application.icon,callback:function(e){t.$set(t.application,"icon",e)},expression:"application.icon"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.appType"),prop:"appType"}},[i("el-radio-group",{attrs:{border:"true",size:"small"},model:{value:t.application.appType.code,callback:function(e){t.$set(t.application.appType,"code",e)},expression:"application.appType.code"}},t._l(t.enums.ApplicationAppTypeEnum,(function(e,a,s){return i("el-radio-button",{key:s,attrs:{label:a,value:a}},[t._v(t._s(e))])})),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.status"),prop:"status"}},[i("el-radio-group",{attrs:{border:"true",size:"small"},model:{value:t.application.status,callback:function(e){t.$set(t.application,"status",e)},expression:"application.status"}},[i("el-radio-button",{attrs:{label:!0}},[t._v(t._s(t.$t("common.status.valid")))]),t._v(" "),i("el-radio-button",{attrs:{label:!1}},[t._v(t._s(t.$t("common.status.invalid")))])],1),t._v(" "),i("aside",{staticClass:"tips"},[t._v('禁用：提示"请求地址,禁止访问!";')])],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("table.application.describe"),prop:"describe"}},[i("el-input",{model:{value:t.application.describe,callback:function(e){t.$set(t.application,"describe",e)},expression:"application.describe"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{plain:"",type:"warning"},on:{click:function(e){t.isVisible=!1}}},[t._v(t._s(t.$t("common.cancel")))]),t._v(" "),i("el-button",{attrs:{plain:"",type:"primary"},on:{click:t.submitForm}},[t._v(t._s(t.$t("common.confirm")))])],1)],1)},s=[],n=i("db72"),o=(i("542c"),i("2474")),p={name:"ApplicationEdit",components:{},props:{dialogVisible:{type:Boolean,default:!1},type:{type:String,default:"add"}},data:function(){return{remoteApplicationLoading:!1,application:this.initApplication(),screenWidth:0,width:this.initWidth(),orgList:[],applicationList:[],rules:{name:[{required:!0,message:this.$t("rules.require"),trigger:"blur"},{min:1,max:255,message:this.$t("rules.range4to10"),trigger:"blur"}],status:{required:!0,message:this.$t("rules.require"),trigger:"blur"}},serviceList:[{id:"pd-auth-server",name:"权限服务"}]}},computed:{isVisible:{get:function(){return this.dialogVisible},set:function(){this.close(),this.reset()}},enums:function(){return this.$store.state.common.enums},title:function(){return"add"===this.type?this.$t("common.add"):this.$t("common.edit")}},watch:{},mounted:function(){var t=this;window.onresize=function(){return function(){t.width=t.initWidth()}()}},methods:{initApplication:function(){return{id:"",appKey:"",appSecret:"",website:"",name:"",icon:"",appType:{code:"SERVER"},describe:"",status:!0}},initWidth:function(){return this.screenWidth=document.body.clientWidth,this.screenWidth<991?"90%":this.screenWidth<1400?"45%":"800px"},loadListOptions:function(t){var e=t.callback;e()},setApplication:function(t,e){var i=this;i.orgList=e,t&&(i.application=Object(n["a"])({},t))},close:function(){this.$emit("close")},reset:function(){this.$refs.form.clearValidate(),this.$refs.form.resetFields(),this.application=this.initApplication()},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.editSubmit()}))},editSubmit:function(){var t=this;"add"===t.type?t.save():t.update()},save:function(){var t=this;o["a"].save(this.application).then((function(e){var i=e.data;i.isSuccess&&(t.isVisible=!1,t.$message({message:t.$t("tips.createSuccess"),type:"success"}),t.$emit("success"))}))},update:function(){var t=this;o["a"].update(this.application).then((function(e){var i=e.data;i.isSuccess&&(t.isVisible=!1,t.$message({message:t.$t("tips.updateSuccess"),type:"success"}),t.$emit("success"))}))}}},l=p,c=(i("ae20"),i("2877")),r=Object(c["a"])(l,a,s,!1,null,"5a0a2e1a",null);e["default"]=r.exports},2474:function(t,e,i){"use strict";var a=i("db72"),s=i("9256"),n={page:"/authority/application/page",update:{method:"PUT",url:"/authority/application"},save:{method:"POST",url:"/authority/application"},delete:{method:"DELETE",url:"/authority/application"}};e["a"]={page:function(t){return Object(s["a"])({method:"GET",url:n.page,formData:!0,data:t})},save:function(t){return Object(s["a"])(Object(a["a"])({},n.save,{data:t}))},update:function(t){return Object(s["a"])(Object(a["a"])({},n.update,{data:t}))},delete:function(t){return Object(s["a"])(Object(a["a"])({},n.delete,{data:t}))}}},"542c":function(t,e,i){},"8f27":function(t,e,i){},ae20:function(t,e,i){"use strict";var a=i("8f27"),s=i.n(a);s.a}}]);